<!DOCTYPE html>
<html>
<head>
  <title>Audio PoC</title>
</head>
<body>

  <script>
    (function() {
      window.tim = {
        speech: {
          recognition: null,
          start: null,
        },
        isPlaying: false,
        lastPlayed: null,

        // Play an audio file.
        play: function(url) {
          if (!url || this.isPlaying || this.lastPlayed == url) {
            return;
          }

          console.info('Play', url);
          this.isPlaying = true;
          this.lastPlayed = url;
          var audio = new Audio();
          audio.src = url;
          audio.onerror = function(event) {
            console.warn('Audio error', event);
          };
          audio.onended = function() {
            this.isPlaying = false;
          };
          audio.play();
        },

        // Word triggers.
        words: {
          wrappen: '/public/nigga.m4a',
          rappen: '/public/nigga.m4a',
          wrap: '/public/nigga.m4a',
          rap: '/public/nigga.m4a',
          sexy: '/public/sexy.m4a',
          lekker: '/public/lekker.m4a',
          werk: '/public/mongol.mp3',
          raar: '/public/raar.mp3',
          gek: '/public/gek.m4a',
          goor: '/public/goor.m4a',
          schnitzel: '/public/schnitzel.m4a',
          schnitzels: '/public/schnitzel.m4a',
          snietsel: '/public/schnitzel.m4a',
          sneasel: '/public/schnitzel.m4a',
        }
      };
    }());
  </script>

  <script src="/js/hallo.js"></script>

</body>
